# ワークフロー再利用のテスト
# https://docs.github.com/ja/actions/using-workflows/reusing-workflows


name: Echo Environment Variable

on: 
  workflow_call:
    inputs:
      env_var:
        description: 'Environment variable to echo'
        required: true
        type: string

jobs:
  echo-env:
    runs-on: ubuntu-latest
    steps:
      - uses: Kesin11/actions-timeline@v1

      - name: Echo input environment variable
        env:
          DEV_AWS_REGION: ${{ secrets.DEV_AWS_REGION }}
          STG_AWS_REGION: ${{ secrets.STG_AWS_REGION }}
          PRD_AWS_REGION: ${{ secrets.PRD_AWS_REGION }}
        run: |
          SECRET_NAME="${{ inputs.env_var }}_AWS_REGION"
          SECRET_VALUE=$(echo ${{ env[SECRET_NAME] }})
          # echo "$SECRET_VALUE"
          echo "SECRET_VALUE=$SECRET_NAME" >> $GITHUB_ENV
